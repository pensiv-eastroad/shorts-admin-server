{"ast":null,"code":"import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\nconst emptyFile = {\n  fileName: null,\n  path: null,\n  size: null\n};\nconst emptyFiles = {\n  totalItems: 0,\n  totalPages: 0,\n  currentPage: 0,\n  content: []\n};\nexport function filePages(dispatch) {\n  let searchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    keyword: '',\n    page: '',\n    size: '',\n    sort: '',\n    direction: ''\n  };\n  let clear = arguments.length > 2 ? arguments[2] : undefined;\n\n  if (clear) {\n    dispatch(page({\n      status: 'init'\n    }));\n    return;\n  }\n\n  dispatch(page({\n    status: 'loading'\n  }));\n  axios.get(`/api/v1/video/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`).then(response => dispatch(page({\n    status: 'complete',\n    statusCode: response.status\n  }, ...response.data))).catch(error => dispatch(page({\n    status: 'error',\n    error: error.response\n  }, emptyFiles)));\n}\nexport function fileList(dispatch, clear) {\n  if (clear) {\n    dispatch(list({\n      status: 'init'\n    }));\n    return;\n  }\n\n  dispatch(list({\n    status: 'loading'\n  }));\n  axios.get(`/api/v1/video/files`).then(response => dispatch(list({\n    status: 'complete',\n    statusCode: response.status\n  }, ...response.data))).catch(error => dispatch(list({\n    status: 'error',\n    error: error.response\n  }, emptyFiles)));\n}\nexport default function fileReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    header: {\n      status: 'init'\n    }\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PAGE:\n      return { ...state,\n        data: {\n          page: action.data\n        },\n        header: action.header\n      };\n\n    case LIST:\n      return { ...state,\n        data: {\n          list: action.data\n        },\n        header: action.header\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["axios","PAGE","LIST","page","list","emptyFile","fileName","path","size","emptyFiles","totalItems","totalPages","currentPage","content","filePages","dispatch","searchOptions","keyword","sort","direction","clear","status","get","then","response","statusCode","data","catch","error","fileList","fileReducer","state","header","action","type"],"sources":["/Users/eastroad/workspace/shorts-admin/shorts-admin-client/src/services/state/reducers/fileApiReducer.js"],"sourcesContent":["import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\n\nconst emptyFile = {\n    fileName: null,\n    path: null,\n    size: null\n};\n\nconst emptyFiles = {\n    totalItems: 0,\n    totalPages: 0,\n    currentPage: 0,\n    content: [],\n}\n\nexport function filePages(dispatch, searchOptions = { keyword: '', page: '', size: '', sort: '', direction: '' }, clear) {\n    if (clear) {\n        dispatch(page({ status: 'init' }));\n        return;\n    }\n    dispatch(page({ status: 'loading' }));\n    \n    axios.get(`/api/v1/video/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`)\n        .then(response => dispatch(page({ status:'complete', statusCode: response.status }, ...response.data)))\n        .catch(error => dispatch(page({ status:'error', error: error.response }, emptyFiles)))\n}\n\nexport function fileList(dispatch, clear) {\n    if (clear) {\n        dispatch(list({ status: 'init' }));\n        return;\n    }\n    dispatch(list({ status: 'loading' }));\n    \n    axios.get(`/api/v1/video/files`)\n        .then(response => dispatch(list({ status:'complete', statusCode: response.status }, ...response.data)))\n        .catch(error => dispatch(list({ status:'error', error: error.response }, emptyFiles)))\n}\n\n\nexport default function fileReducer(state = { header: { status: 'init'} }, action) {\n    switch (action.type) {\n        case PAGE:\n            return { ...state, data: { page: action.data }, header: action.header };\n        case LIST:\n            return { ...state, data: { list: action.data }, header: action.header };\n        default:\n            return state;\n    }\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,0BAA3B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,0BAA3B;AAEA,MAAMC,SAAS,GAAG;EACdC,QAAQ,EAAE,IADI;EAEdC,IAAI,EAAE,IAFQ;EAGdC,IAAI,EAAE;AAHQ,CAAlB;AAMA,MAAMC,UAAU,GAAG;EACfC,UAAU,EAAE,CADG;EAEfC,UAAU,EAAE,CAFG;EAGfC,WAAW,EAAE,CAHE;EAIfC,OAAO,EAAE;AAJM,CAAnB;AAOA,OAAO,SAASC,SAAT,CAAmBC,QAAnB,EAAkH;EAAA,IAArFC,aAAqF,uEAArE;IAAEC,OAAO,EAAE,EAAX;IAAed,IAAI,EAAE,EAArB;IAAyBK,IAAI,EAAE,EAA/B;IAAmCU,IAAI,EAAE,EAAzC;IAA6CC,SAAS,EAAE;EAAxD,CAAqE;EAAA,IAAPC,KAAO;;EACrH,IAAIA,KAAJ,EAAW;IACPL,QAAQ,CAACZ,IAAI,CAAC;MAAEkB,MAAM,EAAE;IAAV,CAAD,CAAL,CAAR;IACA;EACH;;EACDN,QAAQ,CAACZ,IAAI,CAAC;IAAEkB,MAAM,EAAE;EAAV,CAAD,CAAL,CAAR;EAEArB,KAAK,CAACsB,GAAN,CAAW,+BAA8BN,aAAa,CAACC,OAAQ,SAAQD,aAAa,CAACb,IAAK,SAAQa,aAAa,CAACR,IAAK,SAAQQ,aAAa,CAACE,IAAK,cAAaF,aAAa,CAACG,SAAU,EAArL,EACKI,IADL,CACUC,QAAQ,IAAIT,QAAQ,CAACZ,IAAI,CAAC;IAAEkB,MAAM,EAAC,UAAT;IAAqBI,UAAU,EAAED,QAAQ,CAACH;EAA1C,CAAD,EAAqD,GAAGG,QAAQ,CAACE,IAAjE,CAAL,CAD9B,EAEKC,KAFL,CAEWC,KAAK,IAAIb,QAAQ,CAACZ,IAAI,CAAC;IAAEkB,MAAM,EAAC,OAAT;IAAkBO,KAAK,EAAEA,KAAK,CAACJ;EAA/B,CAAD,EAA4Cf,UAA5C,CAAL,CAF5B;AAGH;AAED,OAAO,SAASoB,QAAT,CAAkBd,QAAlB,EAA4BK,KAA5B,EAAmC;EACtC,IAAIA,KAAJ,EAAW;IACPL,QAAQ,CAACX,IAAI,CAAC;MAAEiB,MAAM,EAAE;IAAV,CAAD,CAAL,CAAR;IACA;EACH;;EACDN,QAAQ,CAACX,IAAI,CAAC;IAAEiB,MAAM,EAAE;EAAV,CAAD,CAAL,CAAR;EAEArB,KAAK,CAACsB,GAAN,CAAW,qBAAX,EACKC,IADL,CACUC,QAAQ,IAAIT,QAAQ,CAACX,IAAI,CAAC;IAAEiB,MAAM,EAAC,UAAT;IAAqBI,UAAU,EAAED,QAAQ,CAACH;EAA1C,CAAD,EAAqD,GAAGG,QAAQ,CAACE,IAAjE,CAAL,CAD9B,EAEKC,KAFL,CAEWC,KAAK,IAAIb,QAAQ,CAACX,IAAI,CAAC;IAAEiB,MAAM,EAAC,OAAT;IAAkBO,KAAK,EAAEA,KAAK,CAACJ;EAA/B,CAAD,EAA4Cf,UAA5C,CAAL,CAF5B;AAGH;AAGD,eAAe,SAASqB,WAAT,GAAoE;EAAA,IAA/CC,KAA+C,uEAAvC;IAAEC,MAAM,EAAE;MAAEX,MAAM,EAAE;IAAV;EAAV,CAAuC;EAAA,IAARY,MAAQ;;EAC/E,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKjC,IAAL;MACI,OAAO,EAAE,GAAG8B,KAAL;QAAYL,IAAI,EAAE;UAAEvB,IAAI,EAAE8B,MAAM,CAACP;QAAf,CAAlB;QAAyCM,MAAM,EAAEC,MAAM,CAACD;MAAxD,CAAP;;IACJ,KAAK9B,IAAL;MACI,OAAO,EAAE,GAAG6B,KAAL;QAAYL,IAAI,EAAE;UAAEtB,IAAI,EAAE6B,MAAM,CAACP;QAAf,CAAlB;QAAyCM,MAAM,EAAEC,MAAM,CAACD;MAAxD,CAAP;;IACJ;MACI,OAAOD,KAAP;EANR;AAQH"},"metadata":{},"sourceType":"module"}