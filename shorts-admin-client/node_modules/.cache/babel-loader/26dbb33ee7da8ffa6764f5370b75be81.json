{"ast":null,"code":"import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\nexport function filePages(dispatch) {\n  let searchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    keyword: '',\n    page: '',\n    size: '',\n    sort: '',\n    direction: ''\n  };\n  let clear = arguments.length > 2 ? arguments[2] : undefined;\n\n  if (clear) {\n    dispatch(page({\n      status: 'init'\n    }));\n    return;\n  }\n\n  dispatch(page({\n    status: 'loading'\n  }));\n  axios.get(`/api/v1/video/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`).then(response => dispatch(page({\n    status: 'complete',\n    statusCode: response.status\n  }, [...response.data]))).catch(error => dispatch(page({\n    status: 'error',\n    error: error.response\n  }, [])));\n}\nexport function fileList(dispatch, date, clear) {\n  if (clear) {\n    dispatch(list({\n      status: 'init'\n    }));\n    return;\n  }\n\n  dispatch(list({\n    status: 'loading'\n  }));\n  var yyyyMMdd = \"\";\n\n  if (date) {\n    let yyyy = date.getFullYear();\n    let mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n    let dd = String(date.getDate()).padStart(2, '0');\n    yyyyMMdd = yyyy + mm + dd;\n  }\n\n  axios.get(`/api/v1/video/files/${yyyyMMdd}`).then(response => dispatch(list({\n    status: 'complete',\n    statusCode: response.status\n  }, [...response.data]))).catch(error => dispatch(list({\n    status: 'error',\n    error: error.response\n  }, [])));\n}\nexport default function fileReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    header: {\n      status: 'init'\n    }\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PAGE:\n      return { ...state,\n        data: {\n          page: action.data\n        },\n        header: action.header\n      };\n\n    case LIST:\n      return { ...state,\n        data: {\n          list: action.data\n        },\n        header: action.header\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["axios","PAGE","LIST","page","list","filePages","dispatch","searchOptions","keyword","size","sort","direction","clear","status","get","then","response","statusCode","data","catch","error","fileList","date","yyyyMMdd","yyyy","getFullYear","mm","String","getMonth","padStart","dd","getDate","fileReducer","state","header","action","type"],"sources":["/Users/eastroad/workspace/shorts-admin/shorts-admin-client/src/services/state/reducers/fileApiReducer.js"],"sourcesContent":["import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\n\nexport function filePages(dispatch, searchOptions = { keyword: '', page: '', size: '', sort: '', direction: '' }, clear) {\n    if (clear) {\n        dispatch(page({ status: 'init' }));\n        return;\n    }\n    dispatch(page({ status: 'loading' }));\n    \n    axios.get(`/api/v1/video/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`)\n        .then(response => dispatch(page({ status:'complete', statusCode: response.status }, [...response.data])))\n        .catch(error => dispatch(page({ status:'error', error: error.response }, [])))\n}\n\nexport function fileList(dispatch, date, clear) {\n    if (clear) {\n        dispatch(list({ status: 'init' }));\n        return;\n    }\n    dispatch(list({ status: 'loading' }));\n    \n    var yyyyMMdd = \"\"\n    if (date) {\n        let yyyy = date.getFullYear();\n        let mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n        let dd = String(date.getDate()).padStart(2, '0');\n        yyyyMMdd = yyyy + mm + dd\n    }\n    axios.get(`/api/v1/video/files/${yyyyMMdd}`)\n        .then(response => dispatch(list({ status:'complete', statusCode: response.status }, [...response.data])))\n        .catch(error => dispatch(list({ status:'error', error: error.response }, [])))\n}\n\n\nexport default function fileReducer(state = { header: { status: 'init'} }, action) {\n    switch (action.type) {\n        case PAGE:\n            return { ...state, data: { page: action.data }, header: action.header };\n        case LIST:\n            return { ...state, data: { list: action.data }, header: action.header };\n        default:\n            return state;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}