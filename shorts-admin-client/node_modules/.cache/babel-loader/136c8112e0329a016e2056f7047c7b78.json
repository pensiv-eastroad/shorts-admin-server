{"ast":null,"code":"import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\nconst emptyFile = {\n  fileName: null,\n  path: null,\n  size: null\n};\nconst emptyFiles = {\n  totalItems: 0,\n  totalPages: 0,\n  currentPage: 0,\n  content: []\n};\nexport function filePage(dispatch) {\n  let searchOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    keyword: '',\n    page: '',\n    size: '',\n    sort: '',\n    direction: ''\n  };\n  axios.get(`/api/v1/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`).then(response => dispatch(list(Object.assign({}, response.data, {\n    statusCode: response.status\n  })))).catch(error => dispatch(list(Object.assign({}, emptyFiles, {\n    statusCode: error.response.status\n  }))));\n}\nexport function fileList(dispatch) {\n  axios.get(`/api/v1/files`).then(response => dispatch(list(Object.assign({}, response.data, {\n    statusCode: response.status\n  })))).catch(error => dispatch(list(Object.assign({}, emptyFiles, {\n    statusCode: error.response.status\n  }))));\n}\nexport default function fileReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PAGE:\n      return Object.assign({}, state, {\n        page: action.data\n      });\n\n    case LIST:\n      return Object.assign({}, state, {\n        list: action.data\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["axios","PAGE","LIST","page","list","emptyFile","fileName","path","size","emptyFiles","totalItems","totalPages","currentPage","content","filePage","dispatch","searchOptions","keyword","sort","direction","get","then","response","Object","assign","data","statusCode","status","catch","error","fileList","fileReducer","state","action","type"],"sources":["/Users/eastroad/workspace/shorts-admin/shorts-admin-client/src/services/state/reducers/fileApiReducer.js"],"sourcesContent":["import axios from 'axios';\nimport { PAGE, LIST } from '../actions/fileApiAction';\nimport { page, list } from '../actions/fileApiAction';\n\nconst emptyFile = {\n    fileName: null,\n    path: null,\n    size: null\n};\n\nconst emptyFiles = {\n    totalItems: 0,\n    totalPages: 0,\n    currentPage: 0,\n    content: [],\n}\n\nexport function filePage(dispatch, searchOptions = { keyword: '', page: '', size: '', sort: '', direction: '' }) {\n    axios.get(`/api/v1/files?keyword=${searchOptions.keyword}&page=${searchOptions.page}&size=${searchOptions.size}&sort=${searchOptions.sort}&direction=${searchOptions.direction}`)\n        .then(response => dispatch(list(Object.assign({}, response.data, { statusCode: response.status }))))\n        .catch(error => dispatch(list(Object.assign({}, emptyFiles, { statusCode: error.response.status }))));\n}\nexport function fileList(dispatch) {\n    axios.get(`/api/v1/files`)\n        .then(response => dispatch(list(Object.assign({}, response.data, { statusCode: response.status }))))\n        .catch(error => dispatch(list(Object.assign({}, emptyFiles, { statusCode: error.response.status }))));\n}\n\n\nexport default function fileReducer(state = {}, action) {\n    switch (action.type) {\n        case PAGE:\n            return Object.assign({}, state, { page: action.data });\n        case LIST:\n            return Object.assign({}, state, { list: action.data });    \n        default:\n            return state;\n    }\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,0BAA3B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,0BAA3B;AAEA,MAAMC,SAAS,GAAG;EACdC,QAAQ,EAAE,IADI;EAEdC,IAAI,EAAE,IAFQ;EAGdC,IAAI,EAAE;AAHQ,CAAlB;AAMA,MAAMC,UAAU,GAAG;EACfC,UAAU,EAAE,CADG;EAEfC,UAAU,EAAE,CAFG;EAGfC,WAAW,EAAE,CAHE;EAIfC,OAAO,EAAE;AAJM,CAAnB;AAOA,OAAO,SAASC,QAAT,CAAkBC,QAAlB,EAA0G;EAAA,IAA9EC,aAA8E,uEAA9D;IAAEC,OAAO,EAAE,EAAX;IAAed,IAAI,EAAE,EAArB;IAAyBK,IAAI,EAAE,EAA/B;IAAmCU,IAAI,EAAE,EAAzC;IAA6CC,SAAS,EAAE;EAAxD,CAA8D;EAC7GnB,KAAK,CAACoB,GAAN,CAAW,yBAAwBJ,aAAa,CAACC,OAAQ,SAAQD,aAAa,CAACb,IAAK,SAAQa,aAAa,CAACR,IAAK,SAAQQ,aAAa,CAACE,IAAK,cAAaF,aAAa,CAACG,SAAU,EAA/K,EACKE,IADL,CACUC,QAAQ,IAAIP,QAAQ,CAACX,IAAI,CAACmB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,QAAQ,CAACG,IAA3B,EAAiC;IAAEC,UAAU,EAAEJ,QAAQ,CAACK;EAAvB,CAAjC,CAAD,CAAL,CAD9B,EAEKC,KAFL,CAEWC,KAAK,IAAId,QAAQ,CAACX,IAAI,CAACmB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBf,UAAlB,EAA8B;IAAEiB,UAAU,EAAEG,KAAK,CAACP,QAAN,CAAeK;EAA7B,CAA9B,CAAD,CAAL,CAF5B;AAGH;AACD,OAAO,SAASG,QAAT,CAAkBf,QAAlB,EAA4B;EAC/Bf,KAAK,CAACoB,GAAN,CAAW,eAAX,EACKC,IADL,CACUC,QAAQ,IAAIP,QAAQ,CAACX,IAAI,CAACmB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,QAAQ,CAACG,IAA3B,EAAiC;IAAEC,UAAU,EAAEJ,QAAQ,CAACK;EAAvB,CAAjC,CAAD,CAAL,CAD9B,EAEKC,KAFL,CAEWC,KAAK,IAAId,QAAQ,CAACX,IAAI,CAACmB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBf,UAAlB,EAA8B;IAAEiB,UAAU,EAAEG,KAAK,CAACP,QAAN,CAAeK;EAA7B,CAA9B,CAAD,CAAL,CAF5B;AAGH;AAGD,eAAe,SAASI,WAAT,GAAyC;EAAA,IAApBC,KAAoB,uEAAZ,EAAY;EAAA,IAARC,MAAQ;;EACpD,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKjC,IAAL;MACI,OAAOsB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBQ,KAAlB,EAAyB;QAAE7B,IAAI,EAAE8B,MAAM,CAACR;MAAf,CAAzB,CAAP;;IACJ,KAAKvB,IAAL;MACI,OAAOqB,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBQ,KAAlB,EAAyB;QAAE5B,IAAI,EAAE6B,MAAM,CAACR;MAAf,CAAzB,CAAP;;IACJ;MACI,OAAOO,KAAP;EANR;AAQH"},"metadata":{},"sourceType":"module"}